import React, { useState, useEffect } from 'react'
import { Descriptions, Tag, List } from 'antd'
// import Canvas from './Canvas'
import Graph from './Graph'

export const ClusterTags = (props) => {
    const { items, style = {} } = props
    return items.map((item, index) => <Tag
        style={style}
        key={index}
    >
        {item}
    </Tag>)
}

const tagStyle = { margin: '2px 8px 2px 0' }

const Cluster = (props) => {
    const { cluster } = props
    const { id, generation_level, max_funcs, min_funcs, tags, description } = cluster

    return <div>
        <Descriptions title={`Cluster ${id}`} bordered>
            {generation_level && <Descriptions.Item label="Generation Level">{generation_level}</Descriptions.Item>}
            {max_funcs && <Descriptions.Item label="Maximum Function Calls">{max_funcs}</Descriptions.Item>}
            {min_funcs && <Descriptions.Item label="Minimum Function Calls">{min_funcs}</Descriptions.Item>}

            {
                tags && <Descriptions.Item label="Tags">
                    <ClusterTags items={tags} style={tagStyle} />
                </Descriptions.Item>
            }

            {
                description && <Descriptions.Item label="Contain Samples">
                    <ClusterTags items={description} style={tagStyle} />
                </Descriptions.Item>
            }
        </Descriptions>

        <Graph cluster={cluster}></Graph>
    </div>
}

export default Cluster